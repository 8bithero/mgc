$(function(){function t(){var e=200-$(".info-profile").text().length;$("#char-count").text(e);if(e<0){TweenMax.to($(".char-wrapper"),.4,{color:"#fb0000"});$(".more-char").show()}else if(e<10){TweenMax.to($(".char-wrapper"),.4,{color:"#e6522c"});$(".more-char").hide()}else if(e<100){TweenMax.to($(".char-wrapper"),.4,{color:"#eabe46"});$(".more-char").hide()}else{TweenMax.to($(".char-wrapper"),.4,{color:"#737373"});$(".more-char").hide()}}function n(){var t=$('input[name="edit-username"]').val(),n=$('input[name="edit-nickname"]').val(),i=$('input[name="edit-email"]').val(),s=$('textarea[name="edit-info"]').val(),o=$(".select2-chosen").text(),u=$('input[name="edit-city"]').val(),a=$('input[name="edit-pass1"]').val(),f=$('input[name="edit-pass2"]').val(),l=$.ajax({type:"POST",url:e+"/wp-admin/admin-ajax.php",data:{action:"profile_save_changes",username:t,nickname:n,email:i,info:s,country:o,city:u,pass1:a,pass2:f},beforeSend:function(e){},success:function(e){var t=JSON.parse(e);console.log(t.msg)},error:function(e){console.log("Ajax Error")}});$.when(l).then(function(e){r(e)})}function r(e){var t=JSON.parse(e);console.log(e);$(".user-nickname").text(t.nickname);$(".user-country").text(t.country);$(".user-city").text(t.city);$(".user-description").text(t.description)}var e=localStorage.getItem("blog-url");$(".follow-wrapper").on("click",function(){var e=$(".follow_button_hidden"),t=e.attr("href"),n=$.ajax({type:"POST",url:t})});$(".friendship-button").hasClass("icon_active")&&$(".follow-wrapper").addClass("active");$(".project-editor").mouseleave(function(){var e=$(this).text();$("#project-content").text(e)});$(".info-profile").keyup(function(){$(".char-wrapper").show(350);t()});$('input[name="edit-pass1"]').change(function(){$(this).val().length<6?$(".password-warning").show():$(".password-warning").hide();$('input[name="edit-pass2"]').val()&&$('input[name="edit-pass2"]').val("")});$('input[name="edit-pass2"]').change(function(){var e=$('input[name="edit-pass1"]').val();$(this).val()!==e?$(".equal-warning").show():$(".equal-warning").hide()});$("#save-profile-changes").click(function(e){e.preventDefault();n()});console.log("profile.js loaded")});